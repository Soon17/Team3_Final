<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout.html}" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
	<meta charset="UTF-8">
	<title>ê²€ìƒ‰</title>
	<style>
		.main-container {
			background-color: #f5f6f7;
			font-family: 'Noto Sans KR', sans-serif;
			width: 100%;
			padding: 0;
		}

		.row {
			max-width: 1032px;
			display: flex;
			flex-wrap: wrap;
			justify-content: space-between;
			margin: 0px auto;
			padding-top: 40px;
			padding-bottom: 100px;
		}

		.search-bar-wrap {
			width: 100%;
			background-color: #fff;
			border-bottom: 1px solid #eee;
			position: sticky;
			top: 0;
			z-index: 1000;
			transition: transform 0.3s ease;
			background-color: white;
			overflow: hidden;
		}

		.search-bar-inner {
			padding: 10px 0;
			display: flex;
			gap: 20px;
			height: 80px;
			align-items: center;
			box-sizing: border-box;
			cursor: pointer;
			justify-content: center;
		}

		.search-input {
			width: 300px;
			padding: 12px 16px;
			background-color: #f8f8f8;
			border: 1px solid #ddd;
			border-radius: 5px;
			font-size: 14px;
			font-weight: bold;
		}

		.search-btn {
			padding: 12px 20px;
			background-color: #007bff;
			color: white;
			border: none;
			border-radius: 5px;
			cursor: pointer;
			font-weight: 600;
		}

		.search-box-area {
			width: 100%;
			max-width: 330px;
			margin-right: 20px;
			position: fixed;
			transition: transform 0.3s ease;
			top: 0;
		}


		.container-box {
			background-color: #f5f6f7;
			border-radius: 10px;
			width: 100%;
			max-width: 680px;
			padding-right: 0;
		}

		.sort-options {
			display: flex;
			gap: 16px;
			background: white;
			padding: 5px 15px;
			border-radius: 30px;
			justify-content: flex-end;
		}

		.sort-options label {
			display: flex;
			align-items: center;
			cursor: pointer;
			font-size: 14px;
			color: #666;
			font-weight: 400;
			font-size: 12px;
			margin: 0;
		}

		.sort-options input[type="radio"] {
			appearance: none;
			width: 12px;
			height: 12px;
			border: 2px solid #ccc;
			border-radius: 50%;
			margin-right: 2px;
			cursor: pointer;
		}

		.sort-options input[type="radio"]:checked::before {
			content: '';
			display: block;
			width: 100%;
			height: 100%;
			background-color: #4564b8;
			border-radius: 50%;
		}

		.card-link {
			display: flex;
			text-decoration: none;
			color: inherit;
			padding: 20px 15px;
			background-color: #ffffff73;
			width: 100%;
			justify-content: space-between;
		}

		.hotel-location {
			color: #0d6ffc;
			font-size: .75rem;
		}

		.poto {
			border-radius: 5px;
			height: 208px;
			width: 272px;

		}

		.price {
			color: #9f1f13;
			font-size: 20px;
		}


		.hotel-price {
			align-self: flex-end;
			font-weight: bold;
			font-size: 15px;
			margin-top: auto;
		}

		.hotel-info {
			display: flex;
			flex-direction: column;
			justify-content: space-between;
			height: 100%;
			padding: 10px 30px;
			padding-top: 0px !important;
			max-width: 400px;
			width: 100%;
		}

		.hotel-up {
			display: flex;
			flex-direction: column;
			align-items: flex-start;
			margin-right: 100px;
		}

		.hotel-grade {
			display: flex;
			gap: 4px;
			align-items: flex-start;
			flex-direction: row;
		}

		.card-link:hover {
			color: inherit !important;
			text-decoration: none !important;
		}

		.mobile-header {
			display: none;
			padding: 16px;
			background: #fff;
			font-size: 14px;
			border-bottom: 1px solid #eee;
			flex-direction: column;
			gap: 4px;
		}

		.im {
			display: flex;
			justify-content: center;
		}

		.star {
			width: 16px;
			height: 16px;
		}

		.hotel-stars {
			font-size: 12px;
		}

		.hotel-name {
			font-weight: bold;
		}

		.review-score {
			font-size: 12px;
		}

		.mobile-sort-bar {
			display: none;
		}

		@media screen and (max-width: 1080px) {
			header {
				display: none;
			}

			.search-bar-wrap {
				display: none;
			}

			div.d-flex.justify-content-between.align-items-center.mb-2 {
				display: none !important;
			}

			.mobile-header {
				display: flex;
				flex-direction: column;
				justify-content: center;
				padding: 10px 30px;
				align-items: center;
				font-size: 14px;
			}

			.row {
				align-content: center;
				flex-direction: column;
				padding-top: 10px !important;
			}

			.container-box {
				margin-top: 10px;
				max-width: 970px !important;
				width: 100% !important;
			}

			.hotel-info {
				max-width: 800px !important;
				width: 100%;
				padding: 0px 15px !important;
			}

			.search-box-area {
				display: none;
			}

			.poto {
				width: 272px;
				height: 208px;
			}

			.mobile-sort-bar {
				position: sticky;
				top: 0;
				z-index: 999;
				transition: transform 0.3s ease;
				display: flex;
				flex-wrap: wrap;
				justify-content: space-between;
				align-items: flex-start;
				padding: 10px 30px;
				background-color: #fff;
				font-size: 12px;
			}

			.mobile-sort-bar button {
				padding: 6px 10px;
				font-size: 12px;
				border: 1px solid #ccc;
				border-radius: 6px;
				background-color: #fff;
				white-space: nowrap;
				margin-bottom: 10px;
			}

			.mobile-sort-bar .toggle-area {
				display: flex;
				align-items: center;
				gap: 6px;
				font-size: 12px;
				margin-left: auto;
			}

			.mobile-sort-bar .count {
				font-size: 12px;
				color: #555;
			}

		}

		@media screen and (max-width: 720px) {
			.card-link {
				display: flex;
				flex-direction: column;
			}

			.poto {
				max-width: 650px !important;
				max-height: 250px !important;
				height: 100%;
				width: 100%;
			}

			.hotel-info {
				padding: 10px 0px !important;
			}

		}
	</style>
</head>

<body>

	<main layout:fragment="content" class="main-container">
		<div class="search-bar-wrap">
			<div class="search-bar-inner">
				<div class="search-input" onclick="openLocation()">ğŸ“ ì„œìš¸</div>
				<div class="search-input" onclick="openDate()">ğŸ—“ 05.13(ì›”) ~ 05.15(ìˆ˜)</div>
				<div class="search-input" onclick="openGuest()">ğŸ‘¤ ì„±ì¸2</div>
				<button class="search-btn">ê²€ìƒ‰</button>
			</div>
		</div>
		<!-- ëª¨ë°”ì¼ ì „ìš© í—¤ë” -->
		<div class="mobile-header">
			<div class="mobile-header-top">
				<span class="place-name" style="font-weight: bold;">ì‹ ë¼ ì•„ì´íŒŒí¬ ëª°</span>
				<i class="fas fa-pen edit-icon" style="font-size: 10px;"></i>
			</div>
			<div class="mobile-header-bottom">
				<span>05.13 (ì›”) ~ 05.14 (ìˆ˜)</span>
				<span> | </span>
				<span>ì„±ì¸2</span>
			</div>
		</div>
		<div class="mobile-sort-bar">
			<div class="sort-top">
				<div class="left-buttons">
					<button>ì¶”ì²œìˆœ</button>
					<button>ğŸ›  í•„í„°</button>
				</div>
				<div class="sort-bottom">
					<span class="count">ìˆ™ì†Œ 202ê°œ</span>
				</div>
			</div>
			<div class="right-map">
				<button>ğŸ—º ì§€ë„</button>
			</div>
		</div>
		<div class="row">
			<div id="search-find" class="search-box-area" style="position: relative; overflow: visible;">
				<!-- Ajaxë¡œ ë¶ˆëŸ¬ì˜¨ ë‚´ìš©ì´ ì—¬ê¸°ì— ë“¤ì–´ì˜´ -->
			</div>
			<div class="col-md-10 container-box">
				<div class="d-flex justify-content-between align-items-center mb-2" style="gap: 100px;">
					<div>
						<h5 class="mb-0">ê²€ìƒ‰ê²°ê³¼</h5>
						<small class="text-muted">ìˆ™ì†Œ 223ê°œ</small>
					</div>
					<div class="sort-options">
						<label><input type="radio" name="sort" value="ì¸ê¸°ìˆœ" checked> <span>ì¶”ì²œìˆœ</span></label>
						<label><input type="radio" name="sort" value="í‰ì ìˆœ"> <span>í‰ì ìˆœ</span></label>
						<label><input type="radio" name="sort" value="ê°€ê²©ìˆœ"> <span>ê°€ê²©ìˆœ</span></label>
						<label><input type="radio" name="sort" value="ì„±ê¸‰ìˆœ"> <span>ì„±ê¸‰ìˆœ</span></label>
						<label><input type="radio" name="sort" value="ê±°ë¦¬ìˆœ"> <span>ê±°ë¦¬ìˆœ</span></label>
					</div>
				</div>
				<div class="im">
					<a href="#" class="card-link">
						<div class="hotel-image">
							<img class="poto" src="/resources/static/imgs/hotel.png" alt="í˜¸í…”1">
						</div>
						<div class="hotel-info">
							<div class="hotel-up">
								<div class="hotel-name">ë¡¯ë° í˜¸í…” ì›”ë“œ</div>
								<div class="hotel-grade">
									<img class="star" src="/resources/static/imgs/star.svg" alt="star">
									<span class="review-score">4.6 (999+)</span>
									<span class="hotel-stars">Â· 4ì„±ê¸‰</span>
								</div>
								<div class="hotel-location">ì„œìš¸íŠ¹ë³„ì‹œ - ì ì‹¤ì—­ì—ì„œ 355m</div>
							</div>
							<div class="hotel-price">
								<span class="price">321,268ì›</span> /1ë°•
							</div>
						</div>
					</a>
				</div>
				<div class="im">
					<a href="#" class="card-link">
						<div class="hotel-image">
							<img class="poto" src="/resources/static/imgs/hotel2.png" alt="í˜¸í…”2">
						</div>
						<div class="hotel-info">
							<div class="hotel-up">
								<div class="hotel-name">ë©‹ì ¸ í˜¸í…” ì›”ë“œ</div>
								<div class="hotel-grade">
									<img class="star" src="/resources/static/imgs/star.svg" alt="star">
									<span class="review-score">4.8 (999+)</span>
									<span class="hotel-stars">Â· 5ì„±ê¸‰</span>
								</div>
								<div class="hotel-location">ì„œìš¸íŠ¹ë³„ì‹œ - ì‚¼ì„±ì—­ì—ì„œ 355m</div>
							</div>
							<div class="hotel-price">
								<span class="price">352268ì›</span> /1ë°•
							</div>
						</div>
					</a>
				</div>
				<div class="im">
					<a href="#" class="card-link">
						<div class="hotel-image">
							<img class="poto" src="/resources/static/imgs/hotel3.png" alt="í˜¸í…”3">
						</div>
						<div class="hotel-info">
							<div class="hotel-up">
								<div class="hotel-name">ê¿€ì¼ í˜¸í…” ì›”ë“œ</div>
								<div class="hotel-grade">
									<img class="star" src="/resources/static/imgs/star.svg" alt="star">
									<span class="review-score">4.5 (999+)</span>
									<span class="hotel-stars">Â· 4ì„±ê¸‰</span>
								</div>
								<div class="hotel-location">ì„œìš¸íŠ¹ë³„ì‹œ - êµ¬ë¡œì—­ì—ì„œ 355m</div>
							</div>
							<div class="hotel-price">
								<span class="price">35068ì›</span> /1ë°•
							</div>
						</div>
					</a>
				</div>
				<div class="im">
					<a href="#" class="card-link">
						<div class="hotel-image">
							<img class="poto" src="/resources/static/imgs/hotel4.png" alt="í˜¸í…”4">
						</div>
						<div class="hotel-info">
							<div class="hotel-up">
								<div class="hotel-name">ë˜ê¸° í˜¸í…”</div>
								<div class="hotel-grade">
									<img class="star" src="/resources/static/imgs/star.svg" alt="star">
									<span class="review-score">1.1 (9)</span>
									<span class="hotel-stars">Â· 2ì„±ê¸‰</span>
								</div>
								<div class="hotel-location">ì„œìš¸íŠ¹ë³„ì‹œ - ê°•ë‚¨ì—­ì—ì„œ 3500m</div>
							</div>
							<div class="hotel-price">
								<span class="price">5000ì›</span> /1ë°•
							</div>
						</div>
					</a>
				</div>
			</div>
		</div>
		<script>
			function toggleDetailAll() {
				$.ajax({
					url: '/searching/find',
					type: 'GET',
					success: function (data) {
						$('#search-find').html(data);

						// ë²„íŠ¼í† ê¸€ ì´ë²¤íŠ¸ ë°”ì¸ë”©
						const buttons = document.querySelectorAll('.filter-btn');
						buttons.forEach(btn => {
							btn.addEventListener('click', function () {
								this.classList.toggle('active');
							});
						});
					},
				});
			}

			$(document).ready(function () {
				toggleDetailAll();

				let lastScrollTop = 0;
				const searchBarWrap = document.querySelector('.search-bar-wrap');
				const mobileSortBar = document.querySelector('.mobile-sort-bar');
				const searchBoxArea = document.querySelector('.search-box-area');

				// ì´ˆê¸° ì§„ì… ì‹œ ìœ„ì¹˜ ë³´ì •
				if (searchBoxArea) searchBoxArea.style.transform = 'translateY(0px)';

				window.addEventListener('scroll', function () {
					const currentScroll = window.pageYOffset || document.documentElement.scrollTop;

					if (currentScroll === 0) {
						// ë§¨ ìœ„ë¡œ ì˜¬ë¼ê°€ë©´ ì›ìœ„ì¹˜ (ì´ˆê¸° ìƒíƒœ ë³µê·€)
						searchBarWrap.style.transform = 'translateY(0)';
						searchBarWrap.style.opacity = '1';
						if (mobileSortBar) mobileSortBar.style.transform = 'translateY(0)';
						if (searchBoxArea) searchBoxArea.style.transform = 'translateY(0px)';
					} else if (currentScroll < lastScrollTop) {
						// ìœ„ë¡œ ìŠ¤í¬ë¡¤ â†’ ë‹¤ì‹œ ë³´ì„
						searchBarWrap.style.transform = 'translateY(0)';
						searchBarWrap.style.opacity = '1';
						if (mobileSortBar) mobileSortBar.style.transform = 'translateY(0)';
						if (searchBoxArea) searchBoxArea.style.transform = 'translateY(80px)';
					} else {
						// ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤ â†’ ìˆ¨ê¹€
						searchBarWrap.style.transform = 'translateY(-100%)';
						searchBarWrap.style.opacity = '0';
						if (mobileSortBar) mobileSortBar.style.transform = 'translateY(-100%)';
						if (searchBoxArea) searchBoxArea.style.transform = 'translateY(0)';
					}

					lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
				});
			});
		</script>
	</main>
</body>

</html>