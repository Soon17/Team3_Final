<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout.html}" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>숙소 소개</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
	<!--스와이퍼-->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
	<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
	<!-- Kakao Maps API -->
	<script
		src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=ad16376e4af261fc1e62afc32792b67a&libraries=services,clusterer,drawing"></script>

	<style>
		.container {
			display: block;
			border-radius: 5px;
			padding: 0px;
			margin: auto;
			position: relative;
		}

		.reserv-img {
			display: flex;
			gap: 10px;
			justify-items: center;
		}

		.reserv-img img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			border-radius: 8px;
			border: 1px solid #ddd;
		}

		.img-gallary {
			display: grid;
			gap: 1px;
			grid-template-columns: repeat(4, 1fr);
			grid-template-rows: repeat(2, 1fr);
		}

		.reserv-img img:first-child {
			grid-column: 1/3;
			grid-row: 1/3;
		}

		.infor-container {
			box-shadow: 0 4px 14px 0 rgba(0, 0, 0, 0.6);
			margin-top: 1rem;
		}

		.infor-item {
			padding: 2rem;
			background-color: #fff;
			border-radius: 5px;
		}

		.img-all {
			position: absolute;
			display: flex;
			background-color: rgba(0, 0, 0, 0.5);
			border-radius: 2px;
			bottom: 0.625rem;
			right: 0.625rem;
			cursor: pointer;
			padding: 0.25rem 0.5rem;
		}

		.img-all .img-all2 {
			font-weight: 700;
			color: white;
			font-size: 0.725rem;
		}

		.infor-star {
			font-size: .875rem;
			color: #999;
		}

		.infor-name {
			margin: 0;
			font-size: 1.25rem;
			font-weight: 700;
		}

		.infor-review {
			margin-top: 0;
			width: 100px;
			flex-direction: row-reverse;
			flex: 1.6 1;
			overflow: hidden;
		}

		/* .infor-map{
			display: flex; height: 100px; width: 200px; flex: 1 1;
		} */
		.infor-item2 {
			flex-direction: row-reverse;
			gap: 3.375rem;
			display: flex;
		}

		.infor-item2:last-child {
			margin-top: 2rem;
		}

		.infor-service {
			display: block;
			flex: 1.6 1;
			cursor: pointer;
			transition: all .3s ease;
		}

		.infor-title {
			display: flex;
			gap: .25rem;
			font-size: .875rem;
			font-weight: 700;
		}

		.review-card {
			background: #f9f9f9;
			border-radius: 10px;
			padding: 16px;
			width: 240px;
			height: 160px;
			box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
			display: flex;
			flex-direction: column;
			justify-content: space-between;
			min-width: 120px;
			word-break: break-word;
		}

		.review-header {
			font-weight: bold;
			font-size: 15px;
		}

		.review-content {
			flex-grow: 1;
			color: #333;
			margin: 8px 0;
			word-break: break-word;
			white-space: normal;
		}

		.review-date {
			text-align: right;
			font-size: 12px;
			color: #888;
		}

		.service-value {
			line-height: 1.5625;
			margin-top: .75rem;
			display: flex;
			flex-wrap: wrap;
			gap: .5rem;
		}

		.service-name {
			align-items: center;
			display: flex;
			gap: .25rem;
			font-size: .875rem;
		}

		.hotel-menu {
			position: relative;
		}

		.menu-button {
			padding: 0 2rem;
			background-color: #fff;
			display: flex;
			align-items: center;
			position: sticky;
			top: 0;
			margin-left: 1px;
			z-index: 1000;
		}

		.button-menu {
			border: 0;
			border-bottom: 2px solid rgba(0, 0, 0, 0);
			padding: 1rem 0 calc(1rem - 2px);
			flex: 1 1;
			background: rgba(0, 0, 0, 0);
			cursor: pointer;
			transition: all .3s ease;
		}

		.button-menu:first-child {
			border-color: #0d6ffc;
		}

		.button-menu.active {
			border-bottom-color: #0d6ffc;
		}

		.button-name {
			position: relative;
			font-size: .875rem;
			font-weight: 600;
			color: #494949;
		}

		.hotel-value {
			margin-bottom: .5rem;
		}

		.hotel-date {
			display: flex;
			padding: 1rem 2rem;
			gap: .5rem;
			background-color: #fff;
		}

		.date-btn {
			flex: 1 1;
			border-radius: .5rem;
			padding: 0 1.5rem;
			overflow: hidden;
			border: 1px solid #f3f3f3;
			width: 100%;
			height: 100%;
			display: flex;
			background: #f8f8f8;
		}

		.list-box {
			padding: 1.5rem 2rem;
			display: flex;
			justify-content: space-between;
			background-color: #fff;
		}

		.fillter-box {
			padding: 0 2rem;
			margin-bottom: .5rem;
			background-color: #fff;
		}

		.fillter-item {
			border: 1px solid #f8f8f8;
			border-radius: .5rem;
			padding: 1rem;
			display: flex;
			flex-direction: column;
			gap: .5rem;
		}

		.fillter-menu {
			border: 1px solid #f3f3f3;
			border-radius: 4px;
			padding: .25rem .375rem;
			background-color: #fff;
			display: flex;
			gap: 2px;
			font-size: .875rem;
			color: #666;
			line-height: 1.5;
			cursor: pointer;
			transition: all 3s ease;
		}

		.hotel-box {
			padding: 1rem 2rem 1.5rem;
			display: flex;
			align-items: flex-start;
			gap: 1rem;
			background-color: #fff;
		}

		.hotel-img {
			flex: 1 1;
			width: 100%;
			max-width: 312px;
			display: flex;
			flex-direction: column;
			width: 100%;
		}

		.img-sub {
			display: flex;
			width: 100%;
			gap: .5rem;
			margin-top: .5rem;
		}

		.img-sub img {
			border-radius: .375rem;
			width: 0;
			flex: 1 1;
			aspect-ratio: 1.63 / 1;
			height: 100%;
			object-fit: cover;
			background-size: cover;
			background-repeat: no-repeat;
			background-position: center;
			display: block;
		}

		.hotel-price-list {
			margin-top: 0;
			margin-bottom: 2.5rem;
			flex: 1 1;
			display: flex;
			flex-direction: column;
			gap: .5rem;
		}

		.price-none {
			font-size: .875rem;
			padding: .125rem;
			border-radius: .25rem;
			align-items: center;
			display: flex;
			font-weight: 700;
			position: relative;
			color: #ff6362;
			background-color: #fff3f3;
			white-space: nowrap;
		}

		.price-detail {
			font-size: .875rem;
			display: flex;
			cursor: pointer;
			color: #494949;
			font-weight: 700;
			line-height: 1.5;
		}

		.hotel-content {
			font-size: .875rem;
			color: #666;
			line-height: 1.5;
		}

		.hotel-more {
			cursor: pointer;
			color: #666;
			padding: 0;
			background: rgba(0, 0, 0, 0);
			border: 0;
			line-height: 1.5;
			font-size: .875rem;
			gap: .125rem;
			align-items: center;
			margin-top: .25rem;
			display: flex;
		}

		.reserv-btn {
			cursor: pointer;
			display: block;
			color: #fff;
			background-color: #0d6ffc;
			border: 0;
			line-height: 1.4;
			font-size: 1rem;
			font-weight: 700;
			flex: 0 1 138px;
			height: fit-content;
			padding: .875rem;
			border-radius: .25rem;
		}

		.hotel-map {
			background-color: #fff;
			padding: 1rem;
			margin: 0;
			padding-left: 2rem;
			padding-right: 2rem;
			padding-top: 2rem;
			margin-top: 0;
		}

		.hotel-map2 {
			background-color: #fff;
			padding: 1rem;
			margin: 0;
			padding-left: 2rem;
			padding-right: 2rem;
			padding-top: 2rem;
			margin-top: 0;
		}

		.hotel-map-datail {
			position: relative;
			overflow: hidden;
			user-select: none;
			-webkit-user-drag: none;
			left: 0px;
			top: 0px;
			width: 968px;
			height: 150px;
			z-index: 0;

		}

		.sub-infor {
			font-size: 1rem;
			border: 0;
			border-radius: 4px;
			padding: .375rem .75rem;
			white-space: nowrap;
			cursor: pointer;
			transition: all 0.2s ease-in-out;
			background: #eee;
			color: #333;
		}

		.sub-infor.active {
			background: #677c9b;
			color: #fff;
		}

		.btn-map {
			cursor: pointer;
			font-size: 1rem;
			border-radius: .5rem;
			color: #7b8bab;
			border: 1px solid #7b8bab;
			background: rgba(0, 0, 0, 0);
			padding: .5rem;
			width: 100%;
			max-width: 22rem;
			margin: 0 auto;
			display: block;
		}

		.hotel-service {
			background-color: #fff;

			padding-top: 2rem;
			margin: 0;
			display: block;

			padding-right: 2rem;
		}

		.hotel-detail {

			background-color: #fff;
			padding-top: 2rem;
			margin: 0;

			padding-right: 2rem;
		}

		.hotel-rule {

			background-color: #fff;
			padding-top: 2rem;
			margin: 0;

			padding-right: 2rem;
		}

		.hotel-rivew {
			padding: 1rem;
			background-color: #fff;
			padding-top: 2rem;
			margin: 0;
			padding-left: 2rem;
			padding-right: 2rem;
		}

		.list-menu {
			display: block;
			position: absolute;
			top: 1.313rem;
			right: 0;
			width: 14.25rem;
			background-color: #fff;
			box-shadow: 0 4px 10px 0 rgba(0, 0, 0, .1);
			border-radius: 12px;
			backdrop-filter: blur(50px);
			font-size: .875rem;
			color: #000;
			transition: all .3s;
		}

		.search-bar-wrap {
			width: 100%;
			background-color: #fff;
			border-bottom: 1px solid #eee;
			transition: transform 0.3s ease;
			background-color: white;
			overflow: hidden;
		}

		.search-bar-inner {
			padding: 10px 0;
			display: flex;
			gap: 20px;
			height: 80px;
			align-items: center;
			box-sizing: border-box;
			justify-content: center;
		}

		.search-input {
			width: 45%;
			padding: 12px 16px;
			background-color: #f8f8f8;
			border: 1px solid #ddd;
			border-radius: 5px;
			font-size: 14px;
			font-weight: bold;
			cursor: pointer;
		}

		.go-btn {
			display: flex;
			flex-direction: row-reverse;
		}

		.modal-body {
			overflow-y: auto !important;
			max-height: 90vh;
		}

		.calendar-wrapper {
			max-height: 100%;
			overflow-y: auto;
			display: block;
		}

		.calendar-grid {
			max-height: 600px;
			overflow-y: auto;
			padding-right: 10px;
		}

		/* calendar-wrapper 통일용 */
		.calendar-wrapper {
			background: white;
			max-width: 700px;
			margin: auto;
			padding: 20px;
			border-radius: 15px;
			box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
		}

		/* calendar 내부 요소 */
		.calendar-header {
			margin-bottom: 20px;
			font-size: 18px;
			font-weight: bold;
			display: flex;
			justify-content: space-between;
			align-items: center;
			flex-direction: row-reverse;
		}

		.calendar-grid {
			display: grid;
			grid-template-columns: 1fr;
			gap: 30px;
			max-height: 600px;
			overflow-y: auto;
			padding-right: 10px;
		}

		.month {
			border: 1px solid #ddd;
			border-radius: 10px;
			padding: 10px;
			background: #fff;
		}

		.month h3 {
			text-align: center;
			margin: 0 0 10px;
		}

		.days {
			display: grid;
			grid-template-columns: repeat(7, 1fr);
			gap: 5px;
		}

		.day,
		.day-name {
			text-align: center;
			padding: 8px 0;
		}

		.day-name {
			font-weight: bold;
			background-color: #f8f8f8;
		}

		.day.disabled {
			color: #ccc;
			pointer-events: none;
		}

		.day.selected {
			background-color: #007aff;
			color: white;
			border-radius: 10px;
		}

		.day.in-range {
			background-color: rgba(0, 122, 255, 0.3);
			border-radius: 10px;
		}

		.modal-header {
			font-weight: bold;
		}

		.apply-btn {
			width: 100%;
			padding: 15px;
			background-color: #007aff;
			color: white;
			font-size: 16px;
			border: none;
			margin-top: 20px;
			border-radius: 10px;
			cursor: pointer;
		}

		.counter-header {
			font-size: 20px;
			font-weight: bold;
			margin-bottom: 15px;
		}

		.counter-row {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 15px 0;
			border-bottom: 1px solid #eee;
		}

		.counter-row:last-child {
			border-bottom: none;
		}

		.counter-label {
			font-size: 16px;
		}

		.counter-subtext {
			font-size: 12px;
			color: #666;
			margin-top: 3px;
		}

		.counter-controls {
			display: flex;
			align-items: center;
			gap: 10px;
		}

		.counter-btn {
			width: 32px;
			height: 32px;
			line-height: 32px;
			text-align: center;
			background: #eee;
			border-radius: 50%;
			font-weight: bold;
			font-size: 22px;
			user-select: none;
			cursor: pointer;
			transition: background 0.3s;
		}

		.counter-btn:hover {
			background: #007aff;
			color: white;
		}

		.count-value {
			min-width: 30px;
			text-align: center;
			font-size: 16px;
			user-select: none;
		}

		#confirm-btn {
			width: 100%;
			padding: 14px;
			margin-top: 25px;
			border: none;
			background-color: #007aff;
			color: white;
			font-size: 18px;
			border-radius: 10px;
			cursor: pointer;
			user-select: none;
			transition: background-color 0.3s;
		}

		#confirm-btn:hover {
			background-color: #005bb5;
		}

		.infor-sub {
			display: flex;
			gap: 24px;
		}

		.review-container {
			flex: 1 1 auto;
			overflow: hidden;
		}

		.review-swiper {
			width: 100%;
			height: auto;
		}

		.review-swiper .swiper-slide {
			flex-shrink: 0;
		}

		.review-swiper .swiper-button-prev,
		.review-swiper .swiper-button-next {
			display: none;
		}

		.review-content {
			display: -webkit-box;
			-webkit-line-clamp: 2;
			line-clamp: 2;
			-webkit-box-orient: vertical;
			overflow: hidden;
			text-overflow: ellipsis;

			max-height: 3em;
			cursor: pointer;
			word-break: break-all;
		}

		#modal-content {
			word-break: break-word;
			white-space: pre-wrap;
		}

		.rev {
			display: -webkit-box;
			-webkit-line-clamp: 2;
			line-clamp: 2;
			-webkit-box-orient: vertical;
			overflow: hidden;
			text-overflow: ellipsis;
			word-break: break-word;
			max-height: 3em;
			cursor: pointer;
			word-break: break-all;
		}

		#review-more-btn {
			cursor: pointer;
			font-size: 1rem;
			border-radius: .5rem;
			color: #7b8bab;
			border: 1px solid #7b8bab;
			background: transparent;
			display: flex;
			justify-content: center;
			align-items: center;
			width: 100%;
			margin: 1rem 0;
			padding: 7px 0;
		}

		.modal-footer .btn {
			padding: 1rem 0;
			font-size: 1rem;
			font-weight: 600;
			color: #333;
			background-color: #f8f9fa;
		}

		.modal-footer .btn.border-left {
			border-left: 1px solid #e0e0e0;
		}

		.modal-footer .btn:focus,
		.modal-footer .btn:active {
			outline: none !important;
			box-shadow: none !important;
		}

		[id^="roomDetailModal__"] .modal-footer .hotel-reserve-btn {
			background-color: #007bff;
			color: #fff;
			border: none;
			border-radius: 0.5rem;
			font-size: 1.125rem !important;
			width: 85%;
			transition: background 0.2s;
		}

		[id^="roomDetailModal__"] .modal-footer .hotel-reserve-btn:hover {
			background-color: #007bff;
		}
	</style>
</head>

<body style="background-color: #f5f6f7;">
	<div class="main" style="background-color: #fff;">
		<main layout:fragment="content">
			<div class="container">
				<div class="reserv-img">

					<div class="img-gallary">
						<th:block th:each="thumb : ${thumbList}">
							<img th:src="@{${thumb.th_upload + thumb.th_name}}" alt="이미지 없음">
						</th:block>

					</div>
				</div>
			</div>
			<div class="infor-container container">
				<div class="infor-item">
					<span class="infor-star" th:text="${lodging.ld_rating + '성급'}"></span>
					<p class="infor-name" th:text="${lodging.ld_name}"></p>
					<div style="display: flex; align-items: center; gap: 4px; margin-bottom: 5px;">
						<img src="/resources/static/imgs/star.svg" alt="별" style="width: 14px; height: 14px;">
						<span style="font-weight: 700; font-size: 14px;" th:text="${avg_rating}">4.0</span>
						<span style="font-size: 13px; color: #666;" th:text="'(' + ${review_count} + ')'">(3)</span>
						<i class="fas fa-chevron-right go-to-review" data-target=".hotel-rivew"
							style="font-size: 10px; color: #aaa; padding-left: 4px; cursor: pointer;"></i>
					</div>
					<div class="infor-sub"
						style="display: flex; justify-content: space-between; gap: 24px; align-items: flex-start;">
						<!-- 리뷰 -->
						<div class="review-container">
							<div class="swiper review-swiper">
								<div class="swiper-wrapper">
									<th:block th:each="review : ${reviewList}">
										<div class="swiper-slide review-card"
											th:attr="data-nick=${review.me_nick}, data-content=${review.rv_content}, data-date=${#dates.format(review.rv_date, 'yyyy.MM.dd')}"
											onclick="handleReviewClick(this)" style="cursor: pointer;">
											<div style="display: flex; align-items: center;">
												<div class="review-header" th:text="${review.me_nick}">닉네임</div>
												<span th:text="${review.rm_name}"
													style="display: block; margin-left: 5px; font-size: .75rem; line-height: 1.5; color: #999;">방이름</span>
											</div>
											<div class="review-content" th:text="${review.rv_content}">내용</div>
											<div class="review-date" th:text="${#dates.format(review.rv_date,'yyyy.MM.dd')}">날짜</div>
										</div>
									</th:block>
								</div>
							</div>
						</div>
						<!-- 지도 -->
						<div class="homap" style="flex-shrink: 0;">
							<div class="open-map" onclick="openMapModal()" id="map"
								style="width: 280px; height: 200px; border-radius: 10px;"></div>
						</div>
					</div>

					<!-- 호텔 편의시설 및 서비스 -->
					<div class="infor-item2">
						<div class="infor-service">
							<div class="infor-title">
								<span>호텔 편의시설 및 서비스</span>
							</div>
							<div class="service-value">
								<div class="service-name">
									<i class="fas fa-wifi"></i>
									<span>무료 유선 인터넷</span>
								</div>
								<div class="service-name">
									<i class="fas fa-utensils"></i>
									<span>아침 식사 가능(요금 별도)</span>
								</div>
								<div class="service-name">
									<i class="fas fa-newspaper"></i>
									<span>로비의 신문(요금 별도)</span>
								</div>
								<div class="service-name">
									<i class="fas fa-cart-flatbed-suitcase"></i>
									<span>짐 보관 서비스</span>
								</div>
								<div class="service-name">
									<i class="fas fa-check"></i>
									<span>점자표지</span>
								</div>
								<div class="service-name">
									<i class="fas fa-ban-smoking"></i>
									<span>금연 숙박 시설</span>
								</div>
							</div>
						</div>
					</div>
				</div>

				<!-- 숙소 상세 정보 버튼 -->
				<div class="menu-button">
					<button class="button-menu" data-target=".hotel-box">
						<span class="button-name">객실 목록</span>
					</button>
					<button class="button-menu" data-target=".hotel-map2">
						<span class="button-name">호텔정보</span>
					</button>
					<button class="button-menu" data-target=".hotel-rivew">
						<span class="button-name">리뷰</span>
					</button>
				</div>
				<!-- 날짜 및 인원 검색 -->
				<div>
					<div class="hotel-value">
						<div class="roomList">
							<div class="search-bar-wrap">
								<div class="search-bar-inner">
									<div class="search-input" data-toggle="modal" data-target="#calendarModal">
										<i class="fas fa-list-alt"></i>
										<span id="checkTime">[[${checkTime}]]</span>
									</div>
									<div class="search-input" data-toggle="modal" data-target="#guestModal">
										<i class="fas fa-user"></i>
										<span id="check-people">[[${rm_person}]]</span>
									</div>
								</div>
							</div>
							<div class="list-box">
								<span style="font-size: 1.25rem; color: #494949; line-height: 1.4; font-weight: 700;">객실목록</span>
							</div>

							<!-- 숙소 방 정보 리스트 -->
							<th:block th:each="room, iterStat : ${roomList}">
								<div class="hotel-box">
									<div class="hotel-img">

										<!-- 메인 이미지 (첫 번째 이미지) -->
										<div class="img1"
											style="position: relative; cursor: pointer; width: 100%; aspect-ratio: 1.63 / 1; height: fit-content;">
											<img th:src="@{${room.thumbList[0].th_upload + room.thumbList[0].th_name}}" alt="대표 이미지"
												style="border-radius: .375rem; width: 100%; height: 100%; position: relative;">
										</div>
										<!-- 서브 이미지 (두 번째, 세 번째 이미지) -->
										<div class="img-sub">
											<th:block th:each="thumb, iterStat : ${room.thumbList}">
												<th:block th:if="${iterStat.index == 1 || iterStat.index == 2}">
													<img th:src="@{${thumb.th_upload + thumb.th_name}}" alt="서브 이미지">
												</th:block>
											</th:block>
										</div>

										<div style="margin-top: 1rem;">
											<div style="font-size: 1.125rem; margin: 0; color: #494949; font-weight: 700;"
												th:text="${room.rm_name}">방 이름</div>
											<div style="margin-top: .25rem;">
												<p style="font-size: .875rem; color: #666; line-height: 1.25rem; margin: 0;">
													· 인원 최대 <span th:text="${room.rm_person}"></span>명</p>
												<p style="font-size: .875rem; color: #666; line-height: 1.25rem; margin: 0;">· 킹사이즈침대 1개</p>
												<p style="font-size: .875rem; color: #666; line-height: 1.25rem; margin: 0;">· 시내 전망</p>
											</div>
										</div>
									</div>

									<div class="hotel-price-list">
										<div style="padding: 1.5rem; width: 100%; border: 1px solid #f3f3f3; border-radius: 6px;">
											<div style="margin-top: 0; flex-direction: column; display: flex; gap: 1.5rem;">
												<div style="flex: 1 1;">
													<div style="margin-bottom: .25rem; align-items: center;">
														<div
															style="display: flex; align-items: center; gap: .25rem; display: flex; justify-content: space-between;">
															<div class="price-none">환불불가</div>
															<div class="price-detail" th:attr="data-toggle='modal'"
																th:attrappend="data-target='#roomDetailModal__' + ${iterStat.index}">
																자세히보기 >
															</div>
														</div>
													</div>
													<div class="hotel-content">
														<p style="margin: 0;" th:text="${room.rm_infor}"></p>
													</div>
													<div style="align-items: flex-end; display: flex; justify-content: flex-end;">
														<div style="font-size: .875rem; display: flex; flex-direction: column; gap: .125rem;">
															<div
																style="flex-wrap: wrap; display: flex; align-items: center; justify-content: flex-end; gap: .125rem;">
																<div
																	style="display: flex; align-items: center; justify-content: flex-end; gap: .125rem;">
																	<span style="align-items: center; display: flex; color: #666;">
																		예약가&nbsp;
																	</span>
																</div>
																<!--예약가격-->
																<div
																	style="display: flex; align-items: center; justify-content: flex-end; gap: .125rem;">
																	<span
																		style="display: flex; align-items: center; color: #9f1f13; font-size: 1.125rem; font-weight: 700; line-height: 22.4px;"
																		th:text="${#numbers.formatInteger(room.rm_price, 3, 'COMMA')} + '원'"></span><!--3자리마다 콤마 끊기 -->
																	<span style="align-items: center; display: flex; color: #666;">/1박</span>
																</div>
																<!--총 금액  -->
															</div>
															<div style="text-align: right; font-size: 0.8rem; color: #666; margin-top: 4px;">
																<small th:text="'총' + ${#numbers.formatInteger(room.rm_price, 3, 'COMMA')} + '원'"
																	style="font-size: 13px;"></small>
															</div>
														</div>
													</div>
												</div>
												<div class="go-btn">
													<button class="btn btn-primary hotel-reserve-btn"
														th:attr="data-check-time=${checkTime}, data-rm-person=${room.rm_person}, data-ld-num=${lodging.ld_num}"
														th:attrappend="data-rm-num=${room.rm_num}">
														호텔 바로 예약
													</button>
												</div>
											</div>
										</div>
									</div>
								</div>

								<!-- 자세히보기 모달 (각 방마다 개별 생성) -->
								<div class="modal fade" th:id="'roomDetailModal__' + ${iterStat.index}" tabindex="-1" role="dialog">
									<div class="modal-dialog modal-lg modal-dialog-centered" role="document">
										<div class="modal-content" style="border-radius: 15px;">
											<div
												style="display: flex; flex-direction: row; justify-content: space-between; padding: 10px; padding-left: 25px; font-weight: bold;">
												객실정보
												<button type="button" class="btn btn-secondary" data-dismiss="modal"
													style="width: 1rem; height: 1.5rem; display: flex; justify-content: center;align-items: center;">X</button>
											</div>
											<div class="modal-body" style="max-height: 750px;">

												<!-- 이미지 -->
												<div>
													<div class="py-0">
														<div class="img1" style="position: relative; width: 100%; height: fit-content;">
															<img th:src="@{${room.thumbList[0].th_upload + room.thumbList[0].th_name}}" alt="대표 이미지"
																style="border-radius: .375rem; width: 100%; height: 100%; max-height: 350px; ">
														</div>
														<div class="img-sub">
															<th:block th:each="thumb, idx : ${room.thumbList}">
																<th:block th:if="${idx.index == 1 || idx.index == 2}">
																	<img th:src="@{${thumb.th_upload + thumb.th_name}}" alt="서브 이미지">
																</th:block>
															</th:block>
														</div>
													</div>
													<!-- 정보 -->
													<div class="p-3">
														<h5 th:text="${room.rm_name}">방 이름</h5>
														<p th:text="'인원 최대 ' + ${room.rm_person} + '명 가능'" style="margin-bottom: 0;"></p>

														<!-- 예약가 /1박 -->
														<div style="display: flex; align-items: center; justify-content: flex-end; gap: .25rem;">
															<span style="color: #666;">예약가</span>
															<span th:text="${#numbers.formatInteger(room.rm_price, 3, 'COMMA')} + '원'"
																style="color: #9f1f13; font-size: 1.125rem; font-weight: 700;"></span>
															<span style="color: #666;">/1박</span>
														</div>

														<!-- 총 금액 한 줄 아래로 -->
														<div style="text-align: right; font-size: 0.8rem; color: #666; margin-top: 4px;">
															<small th:text="'총' + ${#numbers.formatInteger(room.rm_price, 3, 'COMMA')} + '원'"
																style="font-size: 13px;"></small>
														</div>
													</div>
													<div class="hotel-service p-2">
														<div>
															<h3
																style="margin: .5rem 0 1rem; font-size: 1.25rem; color: #494949; font-weight: bold; letter-spacing: -0.4px; line-height: 140%;">
																호텔 편의시설 및 서비스</h3>
															<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
																<div style="flex: 1 1;">
																	<div style="display: flex; align-items: center; gap: 0.5rem;">
																		<h4
																			style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
																			인터넷</h4>
																		<i class="fas fa-wifi"></i>
																	</div>
																	<div
																		style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
																		<div style="flex-direction: row; flex-wrap: wrap; display: flex; flex-wrap: wrap;">
																			<div style="flex: 1 1 49%; width: 49%;">무료 유선 인터넷</div>
																			<div style="flex: 1 1 49%; width: 49%;">무료 WiFi</div>
																		</div>
																	</div>
																</div>
															</div>
															<div style="margin: .25rem 0 1rem; background-color: #f3f3f3; width: 100%; height: 1px;">
															</div>
															<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
																<div style="flex: 1 1;">
																	<div style="display: flex; align-items: center; gap: 0.5rem;">
																		<h4
																			style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
																			식사 및 음료</h4>
																		<i class="fas fa-utensils"></i>
																	</div>
																	<div
																		style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
																		<div style="flex-direction: row; flex-wrap: wrap; display: flex; flex-wrap: wrap;">
																			<div style="flex: 1 1 49%; width: 49%;">아침 식사 가능(요금 별도)</div>
																		</div>
																	</div>
																</div>
															</div>
															<div style="margin: .25rem 0 1rem; background-color: #f3f3f3; width: 100%; height: 1px;">
															</div>
															<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
																<div style="flex: 1 1;">
																	<div style="display: flex; align-items: center; gap: 0.5rem;">
																		<h4
																			style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
																			편의시설</h4>
																		<i class="fas fa-newspaper"></i>
																	</div>
																	<div
																		style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
																		<div style="flex-direction: row; flex-wrap: wrap; display: flex; flex-wrap: wrap;">
																			<div style="flex: 1 1 49%; width: 49%;">커피숍/카페 수 - 1</div>
																			<div style="flex: 1 1 49%; width: 49%;">로비의 신문(요금 별도)</div>
																			<div style="flex: 1 1 49%; width: 49%;">엘리베이터</div>
																		</div>
																	</div>
																</div>
															</div>
															<div style="margin: .25rem 0 1rem; background-color: #f3f3f3; width: 100%; height: 1px;">
															</div>
															<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
																<div style="flex: 1 1;">
																	<div style="display: flex; align-items: center; gap: 0.5rem;">
																		<h4
																			style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
																			리셉션 서비스</h4>
																		<i class="fas fa-cart-flatbed-suitcase"></i>
																	</div>
																	<div
																		style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
																		<div style="flex-direction: row; flex-wrap: wrap; display: flex; flex-wrap: wrap;">
																			<div style="flex: 1 1 49%; width: 49%;">짐 보관 서비스</div>
																			<div style="flex: 1 1 49%; width: 49%;">24시간 운영 프론트 데스크</div>
																			<div style="flex: 1 1 49%; width: 49%;">드라이 클리닝/세탁 서비스</div>
																		</div>
																	</div>
																</div>
															</div>
															<div style="margin: .25rem 0 1rem; background-color: #f3f3f3; width: 100%; height: 1px;">
															</div>
															<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
																<div style="flex: 1 1;">
																	<div style="display: flex; align-items: center; gap: 0.5rem;">
																		<h4
																			style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
																			장애인 편의시설</h4>
																		<i class="fas fa-check"></i>
																	</div>
																	<div
																		style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
																		<div style="flex-direction: row; flex-wrap: wrap; display: flex; flex-wrap: wrap;">
																			<div style="flex: 1 1 49%; width: 49%;">점자표지</div>
																			<div style="flex: 1 1 49%; width: 49%;">휠체어로 이용 가능한 주차장</div>
																			<div style="flex: 1 1 49%; width: 49%;">휠체어로 이동 가능한 통로</div>
																		</div>
																	</div>
																</div>
															</div>
															<div style="margin: .25rem 0 1rem; background-color: #f3f3f3; width: 100%; height: 1px;">
															</div>
															<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
																<div style="flex: 1 1;">
																	<div style="display: flex; align-items: center; gap: 0.5rem;">
																		<h4
																			style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
																			기타</h4>
																		<i class="fas fa-check"></i>
																	</div>
																	<div
																		style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
																		<div style="flex-direction: row; flex-wrap: wrap; display: flex; flex-wrap: wrap;">
																			<div style="flex: 1 1 49%; width: 49%;">금연 숙박 시설</div>
																		</div>
																	</div>
																</div>
															</div>
															<div style="margin: .25rem 0 1rem; background-color: #f3f3f3; width: 100%; height: 1px;">
															</div>
														</div>
														<div class="hotel-detail">
															<h3
																style="margin: .5rem 0 1rem; font-size: 1.25rem; color: #494949; font-weight: bold; letter-spacing: -0.4px; line-height: 140%;">
																호텔 상세 정보</h3>
															<div th:text="${lodging.ld_infor}"
																style="font-weight: normal; color: #666; white-space: pre-line; line-height: 1.6; font-size: .875rem;">
															</div>
														</div>
														<div class="hotel-rule">
															<h3
																style="margin: .5rem 0 1rem; font-size: 16px; color: #494949; font-weight: bold; letter-spacing: -0.4px; line-height: 140%;">
																호텔 정책</h3>
															<div>
																<span
																	style="margin: 0 0 .75rem 0; font-size: 16px; font-weight: bold; color: #494949; letter-spacing: -0.32px;">
																	체크인
																	/
																	체크아웃
																</span>
																<div
																	style="margin-top: .75rem; margin-bottom: 1rem; padding: .75rem; border: 1px solid #e9e9e9; border-radius: 6px; display: flex; align-items: flex-start;">
																	<div
																		style="width: 50%; flex: 1 1 50%; display: flex; flex-direction: column; align-items: center;">
																		<span style="font-size: .875rem; color: #666; font-weight: 600;">체크인</span>
																		<p style="font-size: 1rem; color: #677c9b; font-weight: bold; margin: 0;">15:00 ~ 자정
																		</p>
																	</div>
																	<div
																		style="width: 50%; flex: 1 1 50%; display: flex; flex-direction: column; align-items: center;">
																		<span style="font-size: .875rem; color: #666; font-weight: 600;">체크아웃</span>
																		<p style="font-size: 1rem; color: #677c9b; font-weight: bold; margin: 0;">11:00 까지
																		</p>
																	</div>
																</div>
															</div>
															<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
																<div style="flex: 1 1;">
																	<h4
																		style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
																		특별 체크인 지침</h4>
																	<div
																		style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
																		<div style="line-height: 1.5;">
																			· 도착하시면 프런트 데스크 직원이 안내해 드립니다.
																		</div>
																	</div>
																</div>
															</div>
															<div style="margin: .25rem 0 1rem; background-color: #f3f3f3; width: 100%; height: 1px;">
															</div>
															<!-- 호텔 주요/상세 정보 -->
															<div>
																<h3
																	style="margin: 0 0 .75rem 0; font-size: 1rem; font-weight: bold; color: #494949; letter-spacing: -0.32px;">
																	중요 정보</h3>
																<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
																	<div style="flex: 1 1;">
																		<h4
																			style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
																			주요 안내사항</h4>
																		<div
																			style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
																			<div style="line-height: 1.5;">
																				<ul style="margin: 0; padding: 0 0 0 1.5rem;">
																					<li>추가 인원에 대한 요금이 부과될 수 있으며, 이는 숙박 시설 정책에 따라 다릅니다.</li>
																					<li>체크인 시 부대 비용 발생에 대비해 정부에서 발급한 사진이 부착된 신분증과 신용카드, 직불카드 또는 현금으로 보증금이 필요할 수
																						있습니다.</li>
																					<li>특별 요청 사항은 체크인 시 이용 상황에 따라 제공 여부가 달라질 수 있으며 추가 요금이 부과될 수 있습니다. 또한, 반드시
																						보장되지는
																						않습니다.
																					</li>
																					<li>이 숙박 시설에서는 신용카드로 결제하실 수 있습니다. 현금은 받지 않습니다.</li>
																					<li>고객 정책과 문화적 기준이나 규범은 국가 및 숙박 시설에 따라 다를 수 있습니다. 명시된 정책은 숙박 시설에서 제공했습니다.</li>
																					<li>외부 음식의 시설 내 반입은 허용되지 않습니다.</li>
																			</div>
																		</div>
																	</div>
																</div>
															</div>
															<div style="margin: .25rem 0 1rem; background-color: #f3f3f3; width: 100%; height: 1px;">
															</div>
															<div>
																<h3
																	style="margin: 0 0 .75rem 0; font-size: 1rem; font-weight: bold; color: #494949; letter-spacing: -0.32px;">
																	부가 정보</h3>
																<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
																	<div style="flex: 1 1;">
																		<h4
																			style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
																			추가 안내사항</h4>
																		<div
																			style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
																			<div style="line-height: 1.5;">
																				간이/추가 침대 이용 불가
																			</div>
																		</div>
																	</div>
																</div>
																<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
																	<div style="flex: 1 1;">
																		<h4
																			style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
																			기타 선택사항</h4>
																		<div
																			style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
																			<div style="line-height: 1.5;">
																				<ul style="margin: 0; padding: 0 0 0 1.5rem;">
																					<li>뷔페아침 식사 요금: 성인 KRW 3000(대략적인 금액)</li>
																				</ul>
																				<p style="margin: 0;">위 목록에 명시되지 않은 다른 항목이 있을 수 있습니다. 요금 및 보증금은 세전 금액일 수 있으며 변경될
																					수
																					있습니다.
																				</p>
																			</div>
																		</div>
																	</div>
																</div>
																<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
																	<div style="flex: 1 1;">
																		<h4
																			style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
																			현장 결제 유형 및 수단</h4>
																		<div
																			style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
																			<div style="line-height: 1.5;">
																				<p style="margin: 0;">· 직불카드 결제 불가</p>
																				<p style="margin: 0;">· 현금 결제 불가</p>
																				<p style="margin: 0;">· Visa</p>
																				<p style="margin: 0;">· Mastercard</p>
																			</div>
																		</div>
																	</div>
																</div>
																<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
																	<div style="flex: 1 1;">
																		<h4
																			style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
																			반려동물</h4>
																		<div
																			style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
																			<div style="line-height: 1.5;">
																				반려동물 동반 불가
																			</div>
																		</div>
																	</div>
																</div>
															</div>
														</div>
														<div class="hotel-rule">
															<h3
																style="margin: 0 0 .75rem 0; font-size: 1rem; font-weight: bold; color: #494949; letter-spacing: -0.32px;">
																취소규정 및 유의사항</h3>
															<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
																<div style="flex: 1 1;">
																	<h4
																		style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
																		취소규정</h4>
																	<div
																		style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
																		<div style="line-height: 1.5;">
																			객실 상품에 따라 취소규정이 다르므로, 자세한 사항은 객실정보를 통해 확인 바랍니다.
																		</div>
																	</div>
																</div>
															</div>
															<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
																<div style="flex: 1 1;">
																	<h4
																		style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
																		유의사항</h4>
																	<div
																		style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
																		<div style="line-height: 1.5;">
																			취소문의는 Team3 고객센터(1234-4321)로 문의 바랍니다.
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</div>
												</div>

											</div>

											<div class="modal-footer border-top-0" style="display: flex; justify-content: center;">
												<button class="btn btn-primary hotel-reserve-btn" style="height: 50px; font-size: 20px;"
													th:text="${#numbers.formatInteger(room.rm_price, 3, 'COMMA')} + '원 바로 예약하기'"
													th:attr="data-check-time=${checkTime}, data-rm-person=${room.rm_person}, data-ld-num=${lodging.ld_num}"
													th:attrappend="data-rm-num=${room.rm_num}"></button>
											</div>

										</div>
									</div>
								</div>
							</th:block>

						</div>
						<div>
							<div>
								<!-- 호텔 정보 배너 -->
								<div class="hotel-map">
									<div style="height: 100%; position: relative; overflow: hidden;">
										<div
											style="position: relative; height: 150px; width: 100%; border-radius: 6px; margin-bottom: 1rem;">
											<!-- 지도 호출 부분 -->
											<div onclick="openMapModal()" class="hotel-map-datail" id="map1"></div>
										</div>
									</div>
									<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
										<div style="flex: 1 1;">
											<h4
												style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
												주소</h4>
											<div
												style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
												<p th:text="${lodging.ld_region}" style="margin:0; display:flex; align-items:center;">
												</p>
											</div>
										</div>
									</div>
									<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
										<div style="flex: 1 1;">
											<h4
												style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
												전화</h4>
											<div
												style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;"
												th:text="${lodging.ld_number}">
											</div>
										</div>
									</div>
								</div>
								<!-- 호텔 주변 시설 -->
								<div class="hotel-map2">
									<h3
										style="margin: .5rem 0 1rem; font-size: 1.25rem; color: #494949; font-weight: bold; letter-spacing: -0.4px; line-height: 140%;">
										호텔 주변시설</h3>
									<div>
										<div id="info-tab" style="margin-top: 0; display: flex; gap: .375rem;">
											<button class="sub-infor active">대중교통</button>
											<button class="sub-infor">명소</button>
											<button class="sub-infor">전기차충전소</button>
										</div>
										<div style="margin-top: 1rem;">
											<div style="align-items: center; display: flex; justify-content: space-between;">
												<p style="margin: 0; font-size: 1rem; font-weight: 700; line-height: 1.4;">대중교통</p>
											</div>
											<div
												style="padding: .5rem 0; align-items: flex-start; display: flex; cursor: pointer; justify-content: space-between;">
												<div style="margin: 0 1rem 0 .25rem;">
													<p style="margin: 0; color: #666;">지하철역</p>
													<p style="margin: 0; color: #494949; font-weight: 700;">중앙역</p>
												</div>
												<p style="margin-top: auto; margin: 0; color: #999; font-size: .875rem;">585m</p>
											</div>
											<div
												style="padding: .5rem 0; align-items: flex-start; display: flex; cursor: pointer; justify-content: space-between;">
												<div style="margin: 0 1rem 0 .25rem;">
													<p style="margin: 0; color: #666;">지하철역</p>
													<p style="margin: 0; color: #494949; font-weight: 700;">고잔역</p>
												</div>
												<p style="margin-top: auto; margin: 0; color: #999; font-size: .875rem;">872m</p>
											</div>
											<div
												style="padding: .5rem 0; align-items: flex-start; display: flex; cursor: pointer; justify-content: space-between;">
												<div style="margin: 0 1rem 0 .25rem;">
													<p style="margin: 0; color: #666;">지하철역</p>
													<p style="margin: 0; color: #494949; font-weight: 700;">한대앞역</p>
												</div>
												<p style="margin-top: auto; margin: 0; color: #999; font-size: .875rem;">2.0km</p>
											</div>
											<div
												style="padding: .5rem 0; align-items: flex-start; display: flex; cursor: pointer; justify-content: space-between;">
												<div style="margin: 0 1rem 0 .25rem;">
													<p style="margin: 0; color: #666;">지하철역</p>
													<p style="margin: 0; color: #494949; font-weight: 700;">초지역</p>
												</div>
												<p style="margin-top: auto; margin: 0; color: #999; font-size: .875rem;">2.4km</p>
											</div>
											<div
												style="padding: .5rem 0; align-items: flex-start; display: flex; cursor: pointer; justify-content: space-between;">
												<div style="margin: 0 1rem 0 .25rem;">
													<p style="margin: 0; color: #666;">지하철역</p>
													<p style="margin: 0; color: #494949; font-weight: 700;">상록수역</p>
												</div>
												<p style="margin-top: auto; margin: 0; color: #999; font-size: .875rem;">3.4km</p>
											</div>
										</div>
										<button class="btn btn-outline-primary btn-map" onclick="openAroundMapModal()">지도로 보기</button>
									</div>

									<!-- 호텔 주변 시설 및 호텔 서비스 목록 -->
									<div class="hotel-service">
										<h3
											style="margin: .5rem 0 1rem; font-size: 1.25rem; color: #494949; font-weight: bold; letter-spacing: -0.4px; line-height: 140%;">
											호텔 편의시설 및 서비스
										</h3>
										<div th:text="${lodging.ld_infor}"
											style="font-weight: normal; color: #666; white-space: pre-line; line-height: 1.6; font-size: .875rem;">
										</div>
									</div>

									<div class="hotel-rule">
										<h3
											style="margin: .5rem 0 1rem; font-size: 16px; color: #494949; font-weight: bold; letter-spacing: -0.4px; line-height: 140%;">
											호텔 정책</h3>
										<div>
											<span
												style="margin: 0 0 .75rem 0; font-size: 16px; font-weight: bold; color: #494949; letter-spacing: -0.32px;">
												체크인
												/
												체크아웃
											</span>
											<div
												style="margin-top: .75rem; margin-bottom: 1rem; padding: .75rem; border: 1px solid #e9e9e9; border-radius: 6px; display: flex; align-items: flex-start;">
												<div
													style="width: 50%; flex: 1 1 50%; display: flex; flex-direction: column; align-items: center;">
													<span style="font-size: .875rem; color: #666; font-weight: 600;">체크인</span>
													<p style="font-size: 1rem; color: #677c9b; font-weight: bold; margin: 0;">15:00 ~ 자정</p>
												</div>
												<div
													style="width: 50%; flex: 1 1 50%; display: flex; flex-direction: column; align-items: center;">
													<span style="font-size: .875rem; color: #666; font-weight: 600;">체크아웃</span>
													<p style="font-size: 1rem; color: #677c9b; font-weight: bold; margin: 0;">11:00 까지</p>
												</div>
											</div>
										</div>
										<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
											<div style="flex: 1 1;">
												<h4
													style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
													특별 체크인 지침</h4>
												<div
													style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
													<div style="line-height: 1.5;">
														· 도착하시면 프런트 데스크 직원이 안내해 드립니다.
													</div>
												</div>
											</div>
										</div>
										<div style="margin: .25rem 0 1rem; background-color: #f3f3f3; width: 100%; height: 1px;"></div>
										<!-- 호텔 주요/상세 정보 -->
										<div>
											<h3
												style="margin: 0 0 .75rem 0; font-size: 1rem; font-weight: bold; color: #494949; letter-spacing: -0.32px;">
												중요 정보</h3>
											<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
												<div style="flex: 1 1;">
													<h4
														style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
														주요 안내사항</h4>
													<div
														style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
														<div style="line-height: 1.5;">
															<ul style="margin: 0; padding: 0 0 0 1.5rem;">
																<li>추가 인원에 대한 요금이 부과될 수 있으며, 이는 숙박 시설 정책에 따라 다릅니다.</li>
																<li>체크인 시 부대 비용 발생에 대비해 정부에서 발급한 사진이 부착된 신분증과 신용카드, 직불카드 또는 현금으로 보증금이 필요할 수 있습니다.</li>
																<li>특별 요청 사항은 체크인 시 이용 상황에 따라 제공 여부가 달라질 수 있으며 추가 요금이 부과될 수 있습니다. 또한, 반드시 보장되지는 않습니다.
																</li>
																<li>이 숙박 시설에서는 신용카드로 결제하실 수 있습니다. 현금은 받지 않습니다.</li>
																<li>고객 정책과 문화적 기준이나 규범은 국가 및 숙박 시설에 따라 다를 수 있습니다. 명시된 정책은 숙박 시설에서 제공했습니다.</li>
																<li>외부 음식의 시설 내 반입은 허용되지 않습니다.</li>
														</div>
													</div>
												</div>
											</div>
										</div>
										<div style="margin: .25rem 0 1rem; background-color: #f3f3f3; width: 100%; height: 1px;"></div>
										<div>
											<h3
												style="margin: 0 0 .75rem 0; font-size: 1rem; font-weight: bold; color: #494949; letter-spacing: -0.32px;">
												부가 정보</h3>
											<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
												<div style="flex: 1 1;">
													<h4
														style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
														추가 안내사항</h4>
													<div
														style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
														<div style="line-height: 1.5;">
															간이/추가 침대 이용 불가
														</div>
													</div>
												</div>
											</div>
											<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
												<div style="flex: 1 1;">
													<h4
														style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
														기타 선택사항</h4>
													<div
														style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
														<div style="line-height: 1.5;">
															<ul style="margin: 0; padding: 0 0 0 1.5rem;">
																<li>뷔페아침 식사 요금: 성인 KRW 3000(대략적인 금액)</li>
															</ul>
															<p style="margin: 0;">위 목록에 명시되지 않은 다른 항목이 있을 수 있습니다. 요금 및 보증금은 세전 금액일 수 있으며 변경될 수 있습니다.
															</p>
														</div>
													</div>
												</div>
											</div>
											<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
												<div style="flex: 1 1;">
													<h4
														style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
														현장 결제 유형 및 수단</h4>
													<div
														style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
														<div style="line-height: 1.5;">
															<p style="margin: 0;">· 직불카드 결제 불가</p>
															<p style="margin: 0;">· 현금 결제 불가</p>
															<p style="margin: 0;">· Visa</p>
															<p style="margin: 0;">· Mastercard</p>
														</div>
													</div>
												</div>
											</div>
											<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
												<div style="flex: 1 1;">
													<h4
														style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
														반려동물</h4>
													<div
														style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
														<div style="line-height: 1.5;">
															반려동물 동반 불가
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="hotel-rule">
										<h3
											style="margin: 0 0 .75rem 0; font-size: 1rem; font-weight: bold; color: #494949; letter-spacing: -0.32px;">
											취소규정 및 유의사항</h3>
										<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
											<div style="flex: 1 1;">
												<h4
													style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
													취소규정</h4>
												<div
													style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
													<div style="line-height: 1.5;">
														객실 상품에 따라 취소규정이 다르므로, 자세한 사항은 객실정보를 통해 확인 바랍니다.
													</div>
												</div>
											</div>
										</div>
										<div style="padding-bottom: .75rem; display: flex; align-items: flex-start;">
											<div style="flex: 1 1;">
												<h4
													style="margin: 0; font-size: .875rem; color: #494949; font-weight: bold; letter-spacing: -0.28px;">
													유의사항</h4>
												<div
													style="margin-top: .25rem; font-size: .875rem; font-weight: normal; color: #666; letter-spacing: -0.28px;">
													<div style="line-height: 1.5;">
														취소문의는 Team3 고객센터(1234-4321)로 문의 바랍니다.
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div>
									<div class="hotel-rivew">
										<h3
											style="margin: 0 0 .75rem 0; font-size: 1rem; font-weight: bold; color: #494949; letter-spacing: -0.32px;">
											호텔 리뷰</h3>
										<div style="display: flex; flex-direction: column; gap: 1.5rem;">
											<div style="flex-direction: row; gap: 0; display: flex;">

												<!-- 전체 컨테이너 -->
												<div class="hotel-rating-stats"
													style="flex:1 1 50%; width:50%; padding-right:1rem; display:flex; flex-direction:column;gap:1.5rem;">

													<!-- 평균 점수 -->
													<div style="display:flex;justify-content:space-between;align-items:center;">
														<div style="font-size:1rem;font-weight:bold;color:#494949;">평점</div>
														<div style="display:flex;align-items:baseline;gap:.25rem;">
															<div style="font-size:2rem;font-weight:bold;color:#0d6ffc;" th:text="${avg_rating}">0.0
															</div>
															<div style="font-size:1rem;color:#d4d4d4;">/ 5.0</div>
														</div>
													</div>

													<!-- 점수 분포 -->
													<div th:with="total=${review_count}"
														style="display:flex;flex-direction:column;gap:.5rem;line-height:1.5;">

														<th:block th:each="i : ${#numbers.sequence(5,1,-1)}" th:with="
															key=${i.intValue()},
															count=${ratingCounts.get(key)},
															percent=${count != null ? (count * 100.0 / total) : 0}
															">
															<div style="display:flex;align-items:center;gap:.75rem;">
																<!-- 점수 라벨 -->
																<div style="font-size:.9rem;font-weight:bold;color:#494949;" th:text="${key} + '점'">점수
																</div>
																<!-- 바 배경 -->
																<div
																	style="flex:1; height:.5rem; background:#e5e7eb; border-radius:999px; overflow:hidden;">
																	<div th:style="|width:${percent}%; height:100%; background:#0d6ffc;|"></div>
																</div>
																<!-- 인원 수 -->
																<div style="width:2rem;text-align:right;font-size:.9rem;color:#333;"
																	th:text="${count != null ? count : 0} + '명'">몇명</div>
															</div>
														</th:block>
													</div>
												</div>
												<div style="position: relative; margin-left: 0; padding-left: 1rem; width: 50%; flex: 1 1 50%;">
													<div style="padding: 0 .5rem !important;"></div>
												</div>
											</div>
											<!-- 리뷰 리스트 -->
											<div style="display: flex; flex-direction: column; gap: 1rem;">
												<div style="display: flex; justify-content: space-between;align-items: center;">
													<div style="font-size: 1rem; font-weight: bold; color: #494949;">리뷰</div>
												</div>
												<!-- 리뷰 리스트 목록 -->
												<th:block th:each="rev : ${reviewList}">
													<div class="review-item"
														style="width: 100%; display: flex; flex-direction: column; gap: .5rem; cursor: pointer; padding: 1rem; border: 1px solid #f3f3f3; border-radius: .5rem; background-color: #fff;"
														th:attr="data-nick=${rev.me_nick}, data-content=${rev.rv_content}, data-date=${#dates.format(rev.rv_date,'yyyy.MM.dd')}"
														onclick="handleReviewClick(this)">
														<div style="width: 100%; display: flex; align-items: center; gap: .5rem;">
															<div style="display: flex; align-items: end; gap: .125rem;">
																<div style="font-size: 1.5rem; font-weight: bold; color: #333;">5.0</div>
																<div style="font-size: .75rem; color: #999; font-style: normal; line-height: 1.5;">/ 5.0
																</div>
															</div>
															<div>
																<span th:text="${rev.rm_name}"
																	style="display: block; font-size: .75rem; line-height: 1.5; color: #999;">방이름</span>
															</div>
														</div>
														<div>
															<div style="width: 100%; display: flex; align-items: center;">
																<i class="fas fa-user"></i>
																<p th:text="${rev.me_nick}"
																	style="margin: 0; display: flex; align-items: center; gap: .25rem; color: #333; font-size: 1rem; line-height: 1.4;">
																	닉네임</p>
															</div>
															<p class="rev"
																style="margin: 0; width: 40%; font-size: .875rem; line-height: 1.5; color: #666;">
																<span th:text="${rev.rv_content}">리뷰</span>
															</p>
															<div style="width: 100%; display: flex; align-items: center;">
																<span th:text="${#dates.format(rev.rv_date,'yyyy.MM.dd')}"
																	style="font-size: .75rem; line-height: 1.5; color: #999;">날짜</span>
															</div>
														</div>
													</div>
												</th:block>
												<button id="review-more-btn">더보기</button>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- 모달 -->
			<div class="modal" id="calendarModal">
				<div class="modal-dialog">
					<div class="modal-content">
						<!-- Modal 헤더 -->
						<div class="modal-header">
							<div>
								<span id="start-date">날짜 선택</span> ~ <span id="end-date"></span>
							</div>
							<div class="nights" id="nights"></div>
							<button type="button" class="close" data-dismiss="modal">&times;</button>
						</div>
						<!-- Modal 바디 -->
						<div class="modal-body">
							<div class="calendar-wrapper">
								<div id="calendar-grid" class="calendar-grid"></div>
							</div>
						</div>
						<!-- Modal 푸터 -->
						<div class="modal-footer justify-content-center">
							<button type="button" class="apply-btn" onclick="applySelection()" data-dismiss="modal">적용하기</button>
						</div>
					</div>
				</div>
			</div>
			<div class="modal" id="guestModal">
				<div class="modal-dialog">
					<div class="modal-content">
						<!-- Modal 헤더 -->
						<div class="modal-header">
							<div>
								<span>인원 선택</span>
							</div>
							<button type="button" class="close" data-dismiss="modal">&times;</button>
						</div>
						<!-- Modal 바디 -->
						<div class="modal-body">
							<div>
								<div class="counter-label">성인</div>
								<div class="counter-subtext">만 18세 이상</div>
							</div>
							<div class="counter-controls">
								<div class="counter-btn" id="adult-minus">−</div>
								<div class="count-value" id="adult-count">2</div>
								<div class="counter-btn" id="adult-increase">+</div>
							</div>
						</div>
						<!-- Modal 푸터 -->
						<div class="modal-footer justify-content-center">
							<button type="button" id="confirm-btn" data-dismiss="modal">적용하기</button>
						</div>
					</div>
				</div>
			</div>
			<!-- 리뷰 모달 -->
			<div class="modal fade" id="reviewModal" role="dialog">
				<div class="modal-dialog modal-dialog-centered" role="document">
					<div class="modal-content p-4">
						<div class="modal-header">
							<h5 class="modal-title"><span id="modal-nickname">닉네임</span>님의 리뷰</h5>
							<button type="button" class="close" data-dismiss="modal">&times;</button>
						</div>
						<div class="modal-body">
							<p id="modal-content">내용</p>
							<p id="modal-date" class="text-muted">날짜</p>
						</div>
					</div>
				</div>
			</div>
			<!-- 지도 모달 -->
			<div class="modal fade" id="mapModal" tabindex="-1" role="dialog">
				<div class="modal-dialog modal-dialog-centered modal-lg" role="document" style="max-width: 700px;">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">호텔 지도 보기</h5>
							<button type="button" class="close" data-dismiss="modal">&times;</button>
						</div>
						<div class="modal-body p-0">
							<div id="modal-map" style="width: 100%; height: 400px;"></div>
							<div class="p-3" style="font-size: 0.9rem; color: #666; display: flex; justify-content: center;"
								id="map-address"></div>
						</div>
						<div class="modal-footer p-0">
							<div class="d-flex w-100">
								<button type="button" id="route-btn" class="flex-fill btn btn-light rounded-0">
									길찾기
								</button>
								<button type="button" id="copy-addr-btn" class="flex-fill btn btn-light rounded-0 border-left">
									주소 복사
								</button>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- 주변시설 모달 수정된 HTML 구조 -->
			<div class="modal fade" id="aroundMapModal" tabindex="-1">
				<div class="modal-dialog modal-dialog-centered modal-lg" style="max-width: 900px;">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">호텔 주변시설</h5>
							<button type="button" class="close" data-dismiss="modal">&times;</button>
						</div>

						<!-- 탭 버튼 -->
						<div class="d-flex gap-2 px-4 pt-3">
							<button class="btn btn-outline-secondary around-tab-btn active" data-cat="SW8">대중교통</button>
							<button class="btn btn-outline-secondary around-tab-btn" data-cat="AT4">명소</button>
							<button class="btn btn-outline-secondary around-tab-btn" data-cat="OL7">전기차충전소</button>
						</div>

						<!-- 본문 -->
						<div class="modal-body p-0 d-flex" style="height: 500px;">
							<!-- 왼쪽 리스트 -->
							<div id="modal-place-list"
								style="width: 30%; overflow-y: auto; padding: 1rem; border-right: 1px solid #eee;">
								<!-- 동적 주입 -->
							</div>
							<!-- 오른쪽 지도 -->
							<div id="modal-map-around" style="width: 70%; height: 100%;"></div>
						</div>
					</div>
				</div>
			</div>



			<script th:inline="javascript">
				// 전역 큐와 캐시 저장소 선언
				let mapQueue = [];
				const coordsCache = {};

				// 주소 → 좌표 변환 + 캐시
				function getCoords(address, cb) {
					if (coordsCache[address]) {
						return cb(coordsCache[address]);
					}
					const geocoder = new kakao.maps.services.Geocoder();
					geocoder.addressSearch(address, (result, status) => {
						if (status === kakao.maps.services.Status.OK) {
							const coords = new kakao.maps.LatLng(result[0].y, result[0].x);
							coordsCache[address] = coords;
							cb(coords);
						} else {
							console.error("주소 검색 실패:", status);
						}
					});
				}

				// 큐에서 하나씩 꺼내 지도 생성
				function processQueue() {
					if (mapQueue.length === 0) return;
					const { id, address } = mapQueue.shift();
					const container = document.getElementById(id);
					if (!container) {
						// 컨테이너가 없으면 바로 다음
						return setTimeout(processQueue, 100);
					}

					// 캐시된 좌표 재사용 또는 API 호출
					getCoords(address, coords => {
						const map = new kakao.maps.Map(container, {
							center: coords,
							level: 3
						});
						new kakao.maps.Marker({ position: coords, map: map });
						// 크기 재계산 (기존 relayout)
						setTimeout(() => map.relayout(), 100);
						// 다음 큐 실행은 100ms 뒤
						setTimeout(processQueue, 100);
					});
				}

				// 페이지 로드 시 map, map1 순차 실행 시작
				document.addEventListener("DOMContentLoaded", function () {
					kakao.maps.load(function () {
						const address = /*[[${lodging.ld_region}]]*/ "";

						mapQueue = [
							{ id: 'map', address },
							{ id: 'map1', address }
						];
						processQueue();
					});
				});
			</script>

			<!-- 모달 지도 -->
			<script th:inline="javascript">
				const address = /*[[${lodging.ld_region}]]*/ "";

				function openMapModal() {
					$('#mapModal').modal('show');
					$('#map-address').text(address);

					$('#mapModal').on('shown.bs.modal', function () {
						const container = document.getElementById('modal-map');

						// 모달에서도 캐시된 좌표 재사용
						getCoords(address, coords => {
							const map = new kakao.maps.Map(container, {
								center: coords,
								level: 3
							});
							new kakao.maps.Marker({ position: coords, map: map });
						});

						// 한 번만 실행
						$(this).off('shown.bs.modal');
					});
				}
			</script>

			<!--모달 길찾기 복사-->
			<script>
				document.addEventListener("DOMContentLoaded", () => {
					$('#mapModal').on('shown.bs.modal', () => {
						const addr = $('#map-address').text().trim();
						document.getElementById('route-btn').onclick = () => {
							// 주소 검색 결과로 이동
							const url = "https://map.kakao.com/link/search/" + encodeURIComponent(addr);
							window.open(url, "_blank");
						};
						document.getElementById('copy-addr-btn').onclick = () => {
							navigator.clipboard.writeText(addr).then(() => alert("주소가 복사되었습니다."));
						};
					});
				});
			</script>

			<!-- 주변시설 -->
			<script th:inline="javascript">
				let aroundMap; // 지도 인스턴스 저장용
				let aroundMarkers = []; // 기존 마커 제거용
				let selectedCategory = 'SW8'; // 기본값: 지하철

				// 주소를 좌표로 변환 (재사용 가능)
				function getCoordsFromAddress(address, callback) {
					const geocoder = new kakao.maps.services.Geocoder();
					geocoder.addressSearch(address, function (result, status) {
						if (status === kakao.maps.services.Status.OK) {
							const coords = new kakao.maps.LatLng(result[0].y, result[0].x);
							callback(coords);
						} else {
							alert("주소를 좌표로 변환할 수 없습니다.");
						}
					});
				}

				// 주변 카테고리 검색 실행
				function searchNearbyPlaces(coords, categoryCode) {
					const places = new kakao.maps.services.Places(aroundMap);

					const cb = (data, status) => {
						if (status !== kakao.maps.services.Status.OK) return;

						// 기존 마커 제거
						aroundMarkers.forEach(marker => marker.setMap(null));
						aroundMarkers = [];

						// 리스트 갱신
						const listEl = document.getElementById('modal-place-list');
						listEl.innerHTML = '';

						data.forEach(place => {
							// 리스트 추가
							const item = document.createElement('div');
							item.className = 'mb-3';
							item.innerHTML = `
					<div style="font-weight: 600; color: #222;">${place.place_name}</div>
					<div style="font-size: 0.85rem; color: #888;">${Math.round(place.distance)}m</div>
				`;
							listEl.appendChild(item);

							// 마커 추가
							const marker = new kakao.maps.Marker({
								position: new kakao.maps.LatLng(place.y, place.x),
								map: aroundMap
							});
							aroundMarkers.push(marker);
						});
					};

					places.categorySearch(categoryCode, cb, {
						location: coords,
						radius: 2000
					});
				}

				// 모달 열기
				function openAroundMapModal() {
					const address = /*[[${lodging.ld_region}]]*/ "";

					$('#aroundMapModal').modal('show');

					$('#aroundMapModal').on('shown.bs.modal', function () {
						getCoordsFromAddress(address, coords => {
							const container = document.getElementById('modal-map-around');
							aroundMap = new kakao.maps.Map(container, {
								center: coords,
								level: 4
							});

							// 기준점 마커는 호텔 이미지로
							new kakao.maps.Marker({
								position: coords,
								map: aroundMap,
								image: new kakao.maps.MarkerImage(
									"/resources/static/imgs/mak.svg",
									new kakao.maps.Size(45, 45),
									new kakao.maps.Point(16, 32)
								)
							});

							searchNearbyPlaces(coords, selectedCategory);
						});

						$(this).off('shown.bs.modal'); // 1회 실행
					});
				}

				// 탭 클릭 처리
				document.addEventListener("DOMContentLoaded", function () {
					document.querySelectorAll('.around-tab-btn').forEach((btn, idx) => {
						btn.addEventListener('click', function () {
							document.querySelectorAll('.around-tab-btn').forEach(b => b.classList.remove('active'));
							this.classList.add('active');

							const address = /*[[${lodging.ld_region}]]*/ "";

							let category = this.dataset.cat;
							selectedCategory = category;

							getCoordsFromAddress(address, coords => {
								searchNearbyPlaces(coords, category);
							});
						});
					});
				});
			</script>

			<script>
				document.addEventListener('DOMContentLoaded', function () {
					// 메뉴 스크롤 이동 버튼
					document.querySelectorAll('.button-menu').forEach(btn => {
						btn.addEventListener('click', function (e) {
							e.preventDefault();

							// active 클래스 토글
							document.querySelectorAll('.button-menu').forEach(b => b.classList.remove('active'));
							this.classList.add('active');

							// 첫 번째 버튼의 border-color 초기화 제거
							const firstBtn = document.querySelector('.button-menu:first-child');
							if (firstBtn && !firstBtn.classList.contains('active')) {
								firstBtn.style.borderBottomColor = 'transparent';
							} else {
								firstBtn.style.borderBottomColor = '#007bff';
							}

							// 이동할 대상 위치 계산
							const targetSelector = this.dataset.target;
							const target = document.querySelector(targetSelector);
							if (!target) return;

							const headerOffset = 80;
							const y = target.getBoundingClientRect().top + window.scrollY - headerOffset;

							window.scrollTo({ top: y, behavior: 'smooth' });
						});
						// 상단리뷰 평점 화살표 이동
						document.querySelector('.go-to-review')?.addEventListener('click', function () {
							const targetSelector = this.dataset.target;
							const target = document.querySelector(targetSelector);
							if (!target) return;

							const headerOffset = 80;
							const y = target.getBoundingClientRect().top + window.scrollY - headerOffset;
							window.scrollTo({ top: y, behavior: 'smooth' });
						});

					});

					// info-tab 내부 탭 전환 기능
					const tabButtons = document.querySelectorAll('.sub-infor');
					const tabContents = document.querySelectorAll('.tab-content');

					tabButtons.forEach((btn, idx) => {
						btn.addEventListener('click', function () {
							tabButtons.forEach(b => b.classList.remove('active'));
							this.classList.add('active');

							tabContents.forEach((content, i) => {
								content.style.display = (i === idx) ? 'block' : 'none';
							});
						});
					});
				});
			</script>
			<!--호텔 예약 -->
			<script>
				document.addEventListener('DOMContentLoaded', function () {
					document.querySelectorAll('.hotel-reserve-btn').forEach(btn => {
						btn.addEventListener('click', function () {
							const checkTime = this.dataset.checkTime;
							const rmPerson = $("#check-people").text();
							const ldNum = this.dataset.ldNum;
							const rmNum = this.dataset.rmNum;
							console.log(rmPerson);
							const url = `/pay/payment?checkTime=${encodeURIComponent(checkTime)}&rm_person=` + rmPerson + `&ld_num=${ldNum}&rm_num=${rmNum}`;
							location.href = url;
						});
					});
				});
			</script>

			<script>
				const today = new Date();
				today.setHours(0, 0, 0, 0);

				let selectedStart = null;
				let selectedEnd = null;

				function formatDate(date) {
					const y = date.getFullYear();
					const m = String(date.getMonth() + 1).padStart(2, '0');
					const d = String(date.getDate()).padStart(2, '0');
					const w = ['일', '월', '화', '수', '목', '금', '토'][date.getDay()];
					return `${y}.${m}.${d}(${w})`;
				}

				function createCalendar(year, month) {
					const $monthContainer = $('<div class="month"></div>');
					const $monthTitle = $('<h3></h3>').text(`${year}.${month + 1}`);
					const $daysGrid = $('<div class="days"></div>');

					const dayNames = ['일', '월', '화', '수', '목', '금', '토'];
					$.each(dayNames, (_, day) => {
						$daysGrid.append($('<div class="day-name"></div>').text(day));
					});

					const firstDay = new Date(year, month, 1);
					const lastDay = new Date(year, month + 1, 0);

					for (let i = 0; i < firstDay.getDay(); i++) {
						$daysGrid.append('<div></div>');
					}

					for (let d = 1; d <= lastDay.getDate(); d++) {
						const date = new Date(year, month, d);
						const $dayEl = $('<div class="day"></div>').text(d);

						if (date < today) {
							$dayEl.addClass('disabled');
						} else {
							$dayEl.on('click', function () {
								selectDate(date);
							});
						}

						$daysGrid.append($dayEl);
					}

					$monthContainer.append($monthTitle).append($daysGrid);
					$('#calendar-grid').append($monthContainer);
				}

				function renderCalendars() {
					const startYear = today.getFullYear();
					const startMonth = today.getMonth();

					for (let i = 0; i < 12; i++) {
						const year = startYear + Math.floor((startMonth + i) / 12);
						const month = (startMonth + i) % 12;
						createCalendar(year, month);
					}
				}

				function selectDate(date) {
					if (!selectedStart || (selectedStart && selectedEnd)) {
						selectedStart = date;
						selectedEnd = null;
					} else {
						if (date < selectedStart) {
							selectedStart = date;
							selectedEnd = null;
						} else {
							const diff = (date - selectedStart) / (1000 * 60 * 60 * 24);
							if (diff > 30) {
								alert('최대 30일까지만 선택 가능합니다.');
								return;
							}
							selectedEnd = date;
						}
					}
					updateSelection();
				}

				function updateSelection() {
					$('.day').removeClass('selected in-range');

					if (selectedStart) {
						$('.month').each(function () {
							const [year, month] = $(this).find('h3').text().split('.').map(Number);
							$(this).find('.day').each(function () {
								const dayNum = parseInt($(this).text());
								const date = new Date(year, month - 1, dayNum);

								if (selectedStart && !selectedEnd && date.getTime() === selectedStart.getTime()) {
									$(this).addClass('selected');
								}
								if (selectedStart && selectedEnd) {
									if (date.getTime() === selectedStart.getTime() || date.getTime() === selectedEnd.getTime()) {
										$(this).addClass('selected');
									} else if (date > selectedStart && date < selectedEnd) {
										$(this).addClass('in-range');
									}
								}
							});
						});
					}

					$('#start-date').text(selectedStart ? formatDate(selectedStart) : '날짜 선택');
					$('#end-date').text(selectedEnd ? formatDate(selectedEnd) : '');
					if (selectedStart && selectedEnd) {
						const nights = (selectedEnd - selectedStart) / (1000 * 60 * 60 * 24);
						$('#nights').text(`${nights} 박`);
					} else {
						$('#nights').text('');
					}
				}

				function applySelection() {
					if (selectedStart && selectedEnd) {
						const start = formatDate(selectedStart);
						const end = formatDate(selectedEnd);
						const checkTime = `${start} ~ ${end}`;
						const people = '성인' + $('#adult-count').text().trim();

						const url = new URL(window.location.href);
						const params = url.searchParams;

						// 기존 파라미터 유지하면서 값만 바꿈
						params.set('checkTime', checkTime);
						params.set('rm_person', people);

						// 새 URL로 이동
						window.location.href = `${url.pathname}?${params.toString()}`;
					} else {
						alert('날짜를 선택해주세요.');
					}
				}

				function parseDate(dateStr) {
					if (!dateStr || !dateStr.includes('.')) return null;

					const [ymd] = dateStr.split('(');
					const [y, m, d] = ymd.split('.').map(Number);
					return new Date(y, m - 1, d);
				}

				$(document).ready(function () {
					renderCalendars();

					// URL 파라미터로부터 초기값 설정
					const params = new URLSearchParams(window.location.search);
					const checkTime = params.get("checkTime");
					const rmPerson = params.get("rm_person");

					if (checkTime) {
						const [startStr, endStr] = checkTime.split("~").map(s => s.trim());
						$('#start-date').text(startStr);
						$('#end-date').text(endStr);

						selectedStart = parseDate(startStr);
						selectedEnd = parseDate(endStr);

						// 달력에 선택 표시
						updateSelection();
					}

					if (rmPerson) {
						const count = rmPerson.replace("성인", "");
						$('#adult-count').text(count);
					}
				});

				$('#calendarModal').on('shown.bs.modal', function () {
					if (!selectedStart) return;

					const $scrollContainer = $('#calendar-grid');  // 실제 스크롤 될 영역
					$scrollContainer.scrollTop(0);

					const year = selectedStart.getFullYear();
					const month = selectedStart.getMonth() + 1;

					const targetText = `${year}.${month}`;
					const $target = $('.month').filter(function () {
						return $(this).find('h3').text() === targetText;
					}).first();

					if ($target.length) {
						// container 내에서의 offset
						const pos = $target.position().top;
						$scrollContainer.animate({ scrollTop: pos }, 300);
					}
				});

				$(function () {
					const $adultCount = $('#adult-count');
					const minAdult = 1;
					const maxAdult = 10;

					$('#adult-minus').click(function () {
						let val = parseInt($adultCount.text());
						if (val > minAdult) {
							$adultCount.text(val - 1);
						}
					});

					$('#adult-increase').click(function () {
						let val = parseInt($adultCount.text());
						if (val < maxAdult) {
							$adultCount.text(val + 1);
						}
					});

					$('#confirm-btn').on('click', function () {
						const people = '성인' + $('#adult-count').text().trim();

						const url = new URL(window.location.href);
						const params = url.searchParams;

						params.set('rm_person', people);

						window.location.href = `${url.pathname}?${params.toString()}`;
					});

				});         
			</script>
			<script>
				document.addEventListener("DOMContentLoaded", () => {
					new Swiper(".review-swiper", {
						slidesPerView: 2,
						spaceBetween: 16,
						navigation: {
							nextEl: ".swiper-button-next",
							prevEl: ".swiper-button-prev",
						},
						breakpoints: {
							0: { slidesPerView: 1 },
							640: { slidesPerView: 1.5 },
							1024: { slidesPerView: 2 }
						}
					});
				});
			</script>
			<!--리뷰 모달-->
			<script>
				function showReviewModal(nick, content, date) {
					document.getElementById('modal-nickname').textContent = nick;
					document.getElementById('modal-content').textContent = content;
					document.getElementById('modal-date').textContent = date;
					$('#reviewModal').modal('show');
					document.querySelector('#reviewModal .modal-body').scrollTop = 0;
				}
			</script>
			<script>
				function handleReviewClick(el) {
					const nick = el.dataset.nick;
					const content = el.dataset.content;
					const date = el.dataset.date;
					showReviewModal(nick, content, date);
				}
			</script>

			<script>
				document.addEventListener('DOMContentLoaded', function () {
					// 리뷰 항목
					const reviews = document.querySelectorAll('.review-item');

					// 더보기 버튼
					const moreBtn = document.getElementById('review-more-btn');

					const showCount = 3;

					// 리뷰가 3개 이하면 버튼 숨김
					if (reviews.length <= showCount) {
						moreBtn.style.display = 'none';
						return;
					}

					// 처음엔 4번째 이후 리뷰들 숨기기
					reviews.forEach((el, idx) => {
						if (idx >= showCount) el.style.display = 'none';
					});

					// 클릭 시 나머지 리뷰 모두 보여주고 버튼 숨기기
					moreBtn.addEventListener('click', function () {
						reviews.forEach(el => el.style.display = 'block');
						moreBtn.style.display = 'none';
					});
				});
			</script>

		</main>
	</div>
</body>

</html>