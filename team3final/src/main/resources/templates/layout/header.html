<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
</head>
<body>
<header th:fragment="header" id="header">
    <div class="container">
        <nav class="navbar navbar-expand-sm navbar-light">
            <!-- Brand/logo -->
            <div class="d-flex" style="width: 200px;">
                <a class="navbar-brand flex-fill m-0 p-0 icon-link" href="/" data-id="hotel-link">
                    <img id="hotelLogo" src="/resources/static/img/logo_hotel.png" alt="호텔로고" class="w-100 h-auto">
                </a>
                <a class="navbar-brand flex-fill m-0 p-0 icon-link dimmed" href="/rent" data-id="rent-link">
                    <img id="rentLogo" src="/resources/static/img/logo_rent.png" alt="렌트로고" class="w-100 h-auto">
                </a>
            </div>
            <div class="d-none d-md-flex justify-content-between col">
                <div>
                    <!-- Links -->
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" href="/rent">렌트카</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/">호텔</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/">호텔+렌트카</a>
                        </li>
                    </ul>
                </div>
                <div>
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a href="/member/mypage" class="nav-link">
                                <img src="/resources/static/img/profile.png" alt="프로필이미지" style="width: 15px; height: 15px;">
                                마이페이지
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="/member/signIn" class="btn btn-outline-dark btn-login">로그인</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>
	<script>
        $(document).ready(function () {
            const path = window.location.pathname;

            $(".icon-link").on("click", function () {
                const id = $(this).data("id");
                localStorage.setItem("selectedSection", id);
            });

            let section = "hotel-link"; // 기본값

            if (path === "/" || path.startsWith("/hotel") || path.startsWith("/reserv")) {
                section = "hotel-link";
            } else if (path.startsWith("/rent")) {
                section = "rent-link";
            } else if (path.startsWith("/member")) {
                const saved = localStorage.getItem("selectedSection");
                if (saved) section = saved;
            }

            $(".icon-link").addClass("dimmed");
            $(`[data-id='${section}']`).removeClass("dimmed");
        });
    </script>
</header>
</body>
</html>
